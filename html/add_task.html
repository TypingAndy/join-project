<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join</title>
    <link rel="icon" type="image/x-icon" href="../images/icons/join_logo_dark.png" />
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/task_form.css" />
    <script src="../scripts/script.js"></script>
    <script src="../scripts/firebase.js"></script>
    <script src="../scripts/user_data.js"></script>
    <script src="../scripts/contacts.js"></script>
    <script src="../scripts/add_task.js"></script>
    <script src="../templates/add_task_template.js"></script>
    <script src="../templates/task_form_template.js"></script>
  </head>
  <body onload="taskFormOnload()">
    <!-- onload="rednerTaskFormTemplate()" -->
    <div class="joinWrapper">
      <!--header-->
      <header>
        <img src="../images/icons/join_logo_black.svg" alt="" />
        <div class="userProfile">
          <p>AB</p>
        </div>
      </header>

      <!--addTaskSection-->
      <div class="taskFormSection">
        <div class="taskFormHeaderBox">
          <div class="taskFormHeader">Add Task</div>
        </div>

        <form id="taskForm" class="taskForm" action="">
          <!-- rednerTaskFormTemplate -->

            <div class="taskFormSectionBox">
              <div class="taskFormLabels">Title<span style="color: red">*</span></div>
              <div class="taskFormInputContainer">
                <input id="taskTitleInput" class="taskFormInput"  type="text" placeholder="Enter a Title" />
              </div>
            </div>

            <div class="taskFormSectionBox">
              <div class="taskFormLabels">Description</div>
              <div class="taskFormTextAreaContainer">
                <textarea id="taskDescriptionInput" class="taskFormDescriptionTextArea" type="text" placeholder="Enter a Description"></textarea>
              </div>
            </div>

            <div class="taskFormSectionBox">
              <div class="taskFormLabels">Assigned to</div>
              <div class="taskFormInputContainer">
                <input
                  id="taskFormUserInput"
                  onfocus="switchArrowInsideDropdown(true, 'taskFormUserDropdownArrow'), handleDropdown(true, 'userDropdown')"
                  onblur="switchArrowInsideDropdown(false, 'taskFormUserDropdownArrow', 'userDropdown'), handleDropdown(false, 'userDropdown'), clearUserInput(), userFilterFunction()"
                  onkeyup="userFilterFunction()"
                  placeholder="Select contacts to assign"
                  class="taskFormDropdownInput"
                />
                <img
                  id="taskFormUserDropdownArrow"
                  onblur="switchArrowInsideDropdown(false, 'taskFormUserDropdownArrow', 'userDropdown')"
                  class="taskFormUserDropdownArrow img24px"
                  src="../images/icons/arrow_drop_down_down.png"
                  alt=""
                />
              </div>

              <div class="taskFormDropdownBox">
                <div id="userDropdown" class="taskFormDropdownContent"></div>
              </div>
              <div id="taskFormUserIcon" class="userIconsBox"></div>
            </div>

            <div class="taskFormSectionBox">
              <div class="taskFormLabels">Due date<span style="color: red">*</span></div>
              <div class="taskFormInputContainer">
                <input id="dateInput" onclick="insertMinSelectableDate()" class="taskFormInput"  type="date" min="" />
              </div>
            </div>

            <div class="taskFormSectionBox">
              <div class="taskFormLabels">Prio</div>
              <div class="taskFormPrioButtonBox">
                <div onclick="setTaskPrio('Urgent')" class="taskFormPrioButtonUrgent">
                  <div>Urgent</div>
                  <img class="taskFormPrioButtonImage" src="../images/icons/urgend_white_background.svg" alt="" />
                </div>
                <div onclick="setTaskPrio('Medium')" class="taskFormPrioButtonMedium">
                  <div>Medium</div>
                  <img class="taskFormPrioButtonImage" src="../images/icons/medium_white_background.svg" alt="" />
                </div>
                <div onclick="setTaskPrio('Low')" class="taskFormPrioButtonLow">
                  <div>Low</div>
                  <img class="taskFormPrioButtonImage" src="../images/icons/low_white_background.svg" alt="" />
                </div>
              </div>
            </div>

            <div class="taskFormSectionBox">
              <div class="taskFormLabels">Category<span style="color: red">*</span></div>

              <div class="taskFormInputContainer">
                <input
                  id="taskFormCategoryInput"
                  onfocus="switchArrowInsideDropdown(true, 'taskFormCategoryDropdownArrrow', 'categoryDropdown'), handleDropdown(true, 'categoryDropdown')"
                  onblur="switchArrowInsideDropdown(false, 'taskFormCategoryDropdownArrrow', 'categoryDropdown'), handleDropdown(false, 'categoryDropdown')"
                  placeholder="Select task category"
                  class="taskFormDropdownInput"
                  
                />
                <img id="taskFormCategoryDropdownArrrow" class="taskFormUserDropdownArrow img24px" src="../images/icons/arrow_drop_down_down.png" alt="" />
              </div>
              <div class="taskFormDropdownBox">
                <div id="categoryDropdown" onclick="switchArrowInsideDropdown(false, 'taskFormUserDropdownArrow', 'userDropdown')" class="taskFormDropdownContent"></div>
              </div>
            </div>


            <div class="taskFormSectionBox">
              <div class="taskFormLabels">Subtasks</div>

              <div id="addSubtask" class="taskFormInputContainer">
                <input id="taskFormSubtaskInput" onfocus="toggleSubtaskCheckOnFocus(true)" onblur="toggleSubtaskCheckOnFocus(false), clearSubtaskInput()" class="taskFormSubtaskInput" type="text" placeholder="Add new subtask" />
                <div class="iconWrapper">
                  <img id="plusIcon" class="taskFormSubtaskPlusImage" src="../images/icons/plus_dark.png" alt="" />
                  <img id="cancelIcon" class="taskFormSubtaskPlusImage" src="../images/icons/x_black_subtask.png" alt="" style="display: none" />
                  <div id="dividingLine" class="subtaskDividingLine" style="display: none"></div>
                  <img id="checkIcon" onmousedown="addSubtaskToList(), renderSubtasksToList()" class="taskFormSubtaskPlusImage" src="../images/icons/check_black.png" alt="" style="display: none" />
                </div>
              </div>
              <ul class="taskFormSubtaskList" id="taskFormSubtaskList"></ul>
            </div>

            <div class="taskFormCreateTaskButtonBox">
              <div class="taskFormRequiredInfo"><span style="color: red">*</span>This field is requiered</div>
              <div onclick="postTaskData('to do')" class="createTaskButton" type="submit">
                <div>Create Task</div>
                <img class="createTaskButtonCheckImage" src="../images/icons/check_white.png" alt="" />
              </div>
            </div>
        </form>
      </div>

    <!--Navbar-->
    <nav>
      <div onclick="window.location.href='summary.html'" id="summaryLink" class="navIconBox">
        <img src="../images/icons/Menu Icons.png" alt="" />
        <p>Summary</p>
      </div>
      <div onclick="window.location.href='board.html'" id="boardLink" class="navIconBox">
        <img src="../images/icons/Menu Icons-1.png" alt="" />
        <p>Board</p>
      </div>
      <div onclick="window.location.href='add_task.html'" id="addTaskLink" class="navIconBox">
        <img src="../images/icons/Menu Icons-2.png" alt="" />
        <p>Add Tasks</p>
      </div>
      <div onclick="window.location.href='contacts.html'" id="contactsLink" class="navIconBox">
        <img src="../images/icons/Menu Icons-3.png" alt="" />
        <p>Contacts</p>
      </div>
    </nav>
  </body>
</html>
